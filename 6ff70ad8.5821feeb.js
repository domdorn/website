(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{136:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return p})),n.d(t,"metadata",(function(){return b})),n.d(t,"rightToc",(function(){return d})),n.d(t,"default",(function(){return f}));var a=n(157),r=n(1),o=n(9),s=(n(0),n(144)),i=n(158),c=n.n(i),l=(n(159),n(161));function u(){var e=Object(a.a)(['\n    addSbtPlugin("org.scoverage" % "sbt-scoverage" % "1.6.1")\n    addSbtPlugin("com.github.mwz" % "sbt-sonar" % "','")\n  ']);return u=function(){return e},e}var p={title:"Getting Started"},b={id:"setup/getting-started",title:"Getting Started",description:'import dedent from "dedent";',source:"@site/docs/setup/getting-started.mdx",permalink:"/docs/setup/getting-started",editUrl:"https://github.com/sonar-scala/website/edit/master/docs/setup/getting-started.mdx",sidebar:"docs",previous:{title:"Compatibility with SonarQube",permalink:"/docs/about/compatibility-with-sonarqube"},next:{title:"Sonar-scanner Properties",permalink:"/docs/setup/sonar-scanner-properties"}},d=[{value:"Quick start",id:"quick-start",children:[]}],m={rightToc:d},h="wrapper";function f(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(s.b)(h,Object(r.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"For an out-of-the-box setup, you can use the following docker-compose recipe or\na docker image with SonarQube which contains bundled sonar-scala plugin. Please\nsee ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/mwz/sonar-scala-docker"}),"mwz/sonar-scala-docker")," for more\ndetails or simply follow this guide."),Object(s.b)("p",null,"Alternatively, if you already have a SonarQube instance or you don't want to use\nDocker, you can download the latest\n",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/mwz/sonar-scala/releases"}),"release")," jar into your SonarQube\nplugins folder ",Object(s.b)("inlineCode",{parentName:"p"},"/opt/sonarqube/extensions/plugins")," and restart SonarQube either\nmanually or using the update center."),Object(s.b)("p",null,"For automating the analysis of your Scala projects, check out\n",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/mwz/sbt-sonar"}),"mwz/sbt-sonar")," sbt plugin and the\ndocumentation ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/setup/sbt-sonar"}),"here"),". Alternatively, see the\n",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/mwz/sonar-scala/tree/master/examples"}),"examples")," directory in\nsonar-scala repository, which includes example projects for SBT ",Object(s.b)("em",{parentName:"p"},"(",Object(s.b)("inlineCode",{parentName:"em"},"1.x"),")"),",\nGradle ",Object(s.b)("em",{parentName:"p"},"(",Object(s.b)("inlineCode",{parentName:"em"},"5.x"),")")," and Maven ",Object(s.b)("em",{parentName:"p"},"(",Object(s.b)("inlineCode",{parentName:"em"},"3.x"),")")," along with basic instructions on how to\nexecute SonarQube analysis for each of those projects without sbt-sonar."),Object(s.b)("h2",{id:"quick-start"},"Quick start"),Object(s.b)("p",null,"Let's start off by adding the following sbt plugins to your Scala project, in\nthe ",Object(s.b)("inlineCode",{parentName:"p"},"./project/plugins.sbt")," file:"),Object(s.b)("code",{className:"language-scala"},c()(u(),l.sbtSonarVersion)),Object(s.b)("p",null,"We've added the ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/scoverage/sbt-scoverage"}),"sbt-scoverage"),"\nplugin so that we can generate a coverage report and the\n",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/setup/sbt-sonar"}),"sbt-sonar")," plugin to easily trigger an analysis via an sbt task."),Object(s.b)("p",null,"Let's start a local SonarQube server for demonstration purposes."),Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{}),"docker run -p 80:9000 \\\n  mwizner/sonarqube-scala-plugins:latest-full\n")),Object(s.b)("p",null,"Once SonarQube starts up, you should see the message saying that\n",Object(s.b)("inlineCode",{parentName:"p"},"SonarQube is up")," and the UI should be available through ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"http://localhost"}),"http://localhost"),". The\nlogin credentials are ",Object(s.b)("inlineCode",{parentName:"p"},"admin:admin")," in case you want to browse around."),Object(s.b)("div",{className:"alert alert--warning",role:"alert"},"Since we haven't specified an external database for SonarQube to use, it runs in a demo mode using an embedded database, which will be lost once the docker container is stopped. Please use an external database in a production environment."),Object(s.b)("p",null,"Finally, let's execute a SonarQube scan via sbt."),Object(s.b)("pre",null,Object(s.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"sbt -Dsonar.host.url=http://localhost \\\n  clean coverage test coverageReport sonarScan\n")),Object(s.b)("p",null,"Once the scan completes successfully, you can navigate to\n",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"http://localhost/projects"}),"http://localhost/projects")," to see the results."),Object(s.b)("p",null,"This basic setup should report to SonarQube all of the useful Size, Coverage and\nTest metrics (listed ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/about/supported-metrics"}),"here"),") in addition to raising\nany Scalastyle issues that were identified in your project."),Object(s.b)("div",{className:"alert alert--warning",role:"alert"},"Running analysis from a Windows machine is currently not supported - please use Linux or other Unix-like operating system."))}f.isMDXComponent=!0},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),u=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i({},t,{},e)),n},p=function(e){var t=u(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},b="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=u(n),b=a,m=p["".concat(s,".").concat(b)]||p[b]||d[b]||o;return n?r.a.createElement(m,i({ref:t},l,{components:n})):r.a.createElement(m,i({ref:t},l))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[b]="string"==typeof e?e:a,s[1]=i;for(var l=2;l<o;l++)s[l]=n[l];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},157:function(e,t,n){"use strict";function a(e,t){return t||(t=e.slice(0)),e.raw=t,e}n.d(t,"a",(function(){return a}))},158:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t="string"==typeof e?[e]:e.raw,n="",a=0;a<t.length;a++)n+=t[a].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),a<(arguments.length<=1?0:arguments.length-1)&&(n+=arguments.length<=a+1?void 0:arguments[a+1]);var r=n.split("\n"),o=null;r.forEach((function(e){var t=e.match(/^(\s+)\S+/);if(t){var n=t[1].length;o=o?Math.min(o,n):n}})),null!==o&&(s=o,n=r.map((function(e){return" "===e[0]?e.slice(s):e})).join("\n"));var s;return n.trim().replace(/\\n/g,"\n")}},159:function(e,t,n){"use strict";(function(e){var t=n(149);(void 0!==e?e:window).Prism=t.a,n(160)}).call(this,n(66))},160:function(e,t){Prism.languages.scala=Prism.languages.extend("java",{keyword:/<-|=>|\b(?:abstract|case|catch|class|def|do|else|extends|final|finally|for|forSome|if|implicit|import|lazy|match|new|null|object|override|package|private|protected|return|sealed|self|super|this|throw|trait|try|type|val|var|while|with|yield)\b/,string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0}],builtin:/\b(?:String|Int|Long|Short|Byte|Boolean|Double|Float|Char|Any|AnyRef|AnyVal|Unit|Nothing)\b/,number:/\b0x[\da-f]*\.?[\da-f]+|(?:\b\d+\.?\d*|\B\.\d+)(?:e\d+)?[dfl]?/i,symbol:/'[^\d\s\\]\w*/}),delete Prism.languages.scala["class-name"],delete Prism.languages.scala.function},161:function(e){e.exports=JSON.parse('{"version":"7.8.0","ltsVersion":"7.8.0","lts67Version":"6.8.0","sbtSonarVersion":"2.1.0"}')}}]);